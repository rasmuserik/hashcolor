# hashcolor 0.0.1

Microlibrary to get a color given a string
[![ci](https://secure.travis-ci.org/rasmuserik/hashcolor.png)](http://travis-ci.org/rasmuserik/hashcolor)


Install

    bower install hashcolor
    npm install hashcolor


Usage:

    > hashColor.light("foo");
    "#....."
    > hashColor.dark("foo");
    "#....."
    > hashColor.val("foo");
    123
    > hashColor.intToColor(0xF00BA8)
    "#F00BA8"
    > hashColor.strHash "foo"
    
    > hashColor.prng 123


# Literate source code

## Globals

Define `isNodeJs` and `runTest` in such a way that they will be fully removed by `uglifyjs -mc -d isNodeJs=false -d runTest=false `


    if typeof isNodeJs == "undefined" or typeof runTest == "undefined" then do ->
      root = if typeof global == "undefined" then window else global
      root.isNodeJs = (typeof window == "undefined") if typeof isNodeJs == "undefined"
      root.runTest = isNodeJs and process.argv[2] == "test" if typeof runTest == "undefined"
    

## Actual implementation

    hashColor = {}
    

hashing based on djb

    hashColor.strHash = (s) ->
      hash = 5381
      i = s.length
      while i
        hash = (hash*31 + s.charCodeAt(--i)) | 0
      hash
    

pseudorandom number, to make sure hash value uses at least 24 bit, even for single character strings

    hashColor.prng = (n) -> (1664525 * n + 1013904223) |0
    

convert integer to hexcolor

    hashColor.intToColor = (i) -> "#" + ((i & 0xffffff) + 0x1000000).toString(16).slice(1)
    

return an integer color base on hash

    hashColor.val = (str) -> hashColor.prng hashColor.strHash str
    

Light and dark version of the color, ready to use in css

    hashColor.light = (str) -> hashColor.intToColor ((hashColor str) >> 5) | 0xe0e0e0
    hashColor.dark = (str) -> hashColor.intToColor ((hashColor str) >> 1) & 0x7f7f7f
    

## export

    if isNodeJs
      module.exports = jsonml2html
    else
      window.jsonml2html = jsonml2html
    
    

----

README.md autogenerated from `hashcolor.coffee` ![solsort](https://ssl.solsort.com/_reputil_rasmuserik_hashcolor.png)
